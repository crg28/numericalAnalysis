{% extends "base.html" %}
{% block content %}
<div class="max-w-4xl mx-auto py-8">
  <h1 class="text-4xl font-bold mb-6">{{ method_name }}</h1>

  <div class="bg-white shadow rounded-2xl p-6">
    <form method="post">
      {% csrf_token %}
      {% for field in form %}
      <div class="mb-4">
        <label class="block text-gray-700 font-medium mb-1">{{ field.label }}</label>
        {{ field }}
        {% if field.help_text %}<p class="text-xs text-gray-500 mt-1">{{ field.help_text }}</p>{% endif %}
        {% if field.errors %}<p class="text-sm text-red-600">{{ field.errors|striptags }}</p>{% endif %}
      </div>
      {% endfor %}
      <button class="px-5 py-2 rounded-xl bg-red-500 text-white font-semibold hover:bg-red-600">
        Run
      </button>
    </form>
  </div>

  {% if error %}
  <div class="mt-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl">{{ error }}</div>
  {% endif %}

  {% if poly %}
  <div class="mt-6 bg-white shadow rounded-2xl p-6">
    <h3 class="text-xl font-semibold mb-3">Result</h3>
    <pre class="whitespace-pre-wrap text-sm">{{ poly }}</pre>
  </div>
  {% endif %}
  {% if eval_result %}
    <div class="mt-6 bg-white shadow rounded-2xl p-6">
      <h3 class="text-xl font-semibold mb-3">Evaluaci√≥n en X</h3>
      <pre class="whitespace-pre-wrap text-sm">{{ eval_result }}</pre>
    </div>
  {% endif %}
  {% if diff_table and diff_table|length > 0 %}
    <h3>Tabla de diferencias divididas</h3>
    <table class="table table-bordered table-striped">
        {% for row in diff_table %}
            <tr>
                {% for value in row %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
  {% endif %}

</div>
{% endblock %}